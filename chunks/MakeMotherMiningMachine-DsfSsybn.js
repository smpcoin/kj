import{u as W,r as s,n as q,i as z,j as e,T as H,D as k,I as b,B as A,o as X,l as J,p as Q,q as a,s as K,v as E}from"./vendor-CR9QeBO-.js";import{c as m}from"../assets/index-T41FnVxa.js";import{L as x,C as Y}from"./index-DsyTuzNV.js";import{A as $,N as e2}from"./index-CwKQTuFo.js";import{M as u}from"./MiningMachineSystemLogic-BvMT4rBv.js";import"./helper-CPLEapGt.js";const t2="/assets/make-mmm-DVRTWJjW.svg",s2="data:image/svg+xml,%3csvg%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%20fill='none'%20customFrame='%23000000'%3e%3cg%20id='004%20NO'%3e%3cpath%20id='矩形%2034'%20d='M10%200L22%200C27.5228%200%2032%204.47715%2032%2010L32%2022C32%2027.5228%2027.5228%2032%2022%2032L10%2032C4.47715%2032%200%2027.5228%200%2022L0%2010C0%204.47715%204.47715%200%2010%200Z'%20fill='rgb(236,236,238)'%20fill-rule='evenodd'%20/%3e%3cg%20id='组合%20156'%3e%3cellipse%20id='circle'%20rx='9'%20ry='9.00005627'%20cx='16'%20cy='16.0000572'%20fill='rgb(67,65,72)'%20/%3e%3cg%20id='NO'%3e%3cpath%20id='矢量%2084'%20d='M14.5282%2013.0897C14.514%2013.1039%2014.5069%2013.1252%2014.5069%2013.1536L14.5173%2017.4692C14.5173%2017.4819%2014.5142%2017.4908%2014.5079%2017.496C14.5054%2017.4981%2014.5022%2017.4995%2014.4986%2017.5003C14.4955%2017.5011%2014.4925%2017.5011%2014.4899%2017.5004C14.483%2017.4984%2014.4776%2017.4915%2014.4737%2017.4795L11.817%2013.1266C11.7976%2013.0995%2011.7752%2013.0818%2011.7498%2013.0737C11.7388%2013.0701%2011.7272%2013.0684%2011.7151%2013.0684L11.0852%2013.0684C11.0568%2013.0684%2011.0355%2013.0755%2011.0213%2013.0897C11.0071%2013.1039%2011%2013.1252%2011%2013.1536L11%2018.943C11%2018.9714%2011.0071%2018.9927%2011.0213%2019.0069C11.0355%2019.0211%2011.0568%2019.0282%2011.0852%2019.0282L11.7317%2019.0282C11.7601%2019.0282%2011.7815%2019.0211%2011.7957%2019.0069C11.8099%2018.9927%2011.817%2018.9714%2011.817%2018.943L11.8086%2014.6254C11.8086%2014.6132%2011.8116%2014.6047%2011.8176%2014.6C11.8197%2014.5983%2011.8223%2014.597%2011.8253%2014.5963C11.8284%2014.5955%2011.8313%2014.5955%2011.834%2014.5962C11.8409%2014.5982%2011.8463%2014.6051%2011.8502%2014.6171L14.5173%2018.968C14.5372%2018.9968%2014.5603%2019.0153%2014.5865%2019.0234C14.5969%2019.0266%2014.6078%2019.0282%2014.6192%2019.0282L15.2407%2019.0282C15.2691%2019.0282%2015.2904%2019.0211%2015.3047%2019.0069C15.3189%2018.9927%2015.326%2018.9714%2015.326%2018.943L15.326%2013.1536C15.326%2013.1252%2015.3189%2013.1039%2015.3047%2013.0897C15.2904%2013.0755%2015.2691%2013.0684%2015.2407%2013.0684L14.5921%2013.0684C14.5637%2013.0684%2014.5424%2013.0755%2014.5282%2013.0897Z'%20fill='rgb(255,255,255)'%20fill-rule='evenodd'%20/%3e%3cpath%20id='矢量%2085'%20d='M17.0724%2018.8497C17.3912%2019.0202%2017.7577%2019.1054%2018.1721%2019.1054C18.592%2019.1054%2018.9606%2019.0202%2019.278%2018.8497C19.4542%2018.7555%2019.6085%2018.6401%2019.7411%2018.5036C19.8484%2018.3931%2019.9414%2018.2687%2020.0201%2018.1305C20.0283%2018.1161%2020.0363%2018.1016%2020.0441%2018.087C20.2041%2017.7882%2020.2841%2017.4465%2020.2841%2017.062L20.2841%2015.0351C20.2841%2014.6445%2020.2016%2014.2994%2020.0364%2013.9997C20.0311%2013.99%2020.0257%2013.9804%2020.0201%2013.9708C19.9455%2013.8408%2019.8579%2013.7231%2019.7575%2013.6176C19.6213%2013.4745%2019.4615%2013.3538%2019.278%2013.2557C18.9606%2013.0852%2018.592%2013%2018.1721%2013C17.7577%2013%2017.3912%2013.0852%2017.0724%2013.2557C16.8931%2013.352%2016.7364%2013.47%2016.6022%2013.6096C16.4989%2013.7172%2016.4089%2013.8376%2016.3324%2013.9708C16.3269%2013.9804%2016.3214%2013.99%2016.3161%2013.9997C16.1509%2014.2994%2016.0684%2014.6445%2016.0684%2015.0351L16.0684%2017.062C16.0684%2017.4465%2016.1484%2017.7882%2016.3084%2018.087C16.3162%2018.1016%2016.3242%2018.1161%2016.3324%2018.1305C16.413%2018.272%2016.5084%2018.399%2016.6187%2018.5115C16.7492%2018.6446%2016.9004%2018.7573%2017.0724%2018.8497ZM18.8916%2018.2123C18.6901%2018.3365%2018.4502%2018.3986%2018.1721%2018.3986C17.8885%2018.3986%2017.6456%2018.3345%2017.4432%2018.2063C17.3697%2018.1597%2017.3015%2018.1046%2017.2387%2018.0411C17.1827%2017.9843%2017.1333%2017.9233%2017.0906%2017.8579C16.9537%2017.6483%2016.8853%2017.3941%2016.8853%2017.0952L16.8853%2015.0268C16.8853%2014.7173%2016.9567%2014.4551%2017.0994%2014.2404C17.14%2014.1793%2017.1865%2014.122%2017.2387%2014.0685C17.3044%2014.0013%2017.3759%2013.9435%2017.4532%2013.895C17.6536%2013.7695%2017.8932%2013.7068%2018.1721%2013.7068C18.4456%2013.7068%2018.6821%2013.7675%2018.8815%2013.8891C18.9631%2013.9387%2019.0384%2013.9985%2019.1075%2014.0685C19.1634%2014.125%2019.2127%2014.1858%2019.2555%2014.2509C19.3952%2014.4636%2019.4651%2014.7223%2019.4651%2015.0268L19.4651%2017.0952C19.4651%2017.3892%2019.3981%2017.64%2019.2642%2017.8476C19.2194%2017.9169%2019.1672%2017.9814%2019.1075%2018.0411C19.0413%2018.1074%2018.9693%2018.1644%2018.8916%2018.2123Z'%20fill='rgb(255,255,255)'%20fill-rule='evenodd'%20/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",a2="data:image/svg+xml,%3csvg%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%20fill='none'%20customFrame='%23000000'%3e%3cg%20id='006%20percent'%3e%3cpath%20id='矩形%2035'%20d='M10%200L22%200C27.5228%200%2032%204.47715%2032%2010L32%2022C32%2027.5228%2027.5228%2032%2022%2032L10%2032C4.47715%2032%200%2027.5228%200%2022L0%2010C0%204.47715%204.47715%200%2010%200Z'%20fill='rgb(236,236,238)'%20fill-rule='evenodd'%20/%3e%3cellipse%20id='circle'%20rx='9'%20ry='9.00005627'%20cx='16'%20cy='16.0000572'%20fill='rgb(67,65,72)'%20/%3e%3cg%20id='%25'%3e%3cpath%20id='矢量%2087'%20d='M12.4307%2012.0635C12.1436%2012.4033%2012%2012.9971%2012%2013.8447C12%2014.6924%2012.1436%2015.2842%2012.4307%2015.6201C12.4793%2015.6767%2012.5319%2015.7284%2012.5885%2015.7754C12.868%2016.0078%2013.2441%2016.124%2013.7168%2016.124C14.2043%2016.124%2014.5898%2016.0038%2014.8732%2015.7632C14.9247%2015.7195%2014.9728%2015.6718%2015.0176%2015.6201C15.3105%2015.2842%2015.457%2014.6924%2015.457%2013.8447C15.457%2012.9971%2015.3105%2012.4033%2015.0176%2012.0635C14.9679%2012.0051%2014.914%2011.9517%2014.856%2011.9033C14.5743%2011.6683%2014.1946%2011.5508%2013.7168%2011.5508C13.2537%2011.5508%2012.8833%2011.6642%2012.6057%2011.8911C12.5425%2011.9427%2012.4842%2012.0002%2012.4307%2012.0635ZM18.0117%2011.6709L13.3564%2020L14.2822%2020L18.9492%2011.6709L18.0117%2011.6709ZM14.4668%2012.8896C14.5195%2013.1104%2014.5459%2013.4287%2014.5459%2013.8447C14.5459%2014.2607%2014.5195%2014.5791%2014.4668%2014.7998C14.4141%2015.0186%2014.3301%2015.1738%2014.2148%2015.2656C14.0996%2015.3574%2013.9336%2015.4033%2013.7168%2015.4033C13.5176%2015.4033%2013.3594%2015.3574%2013.2422%2015.2656C13.127%2015.1738%2013.043%2015.0166%2012.9902%2014.7939C12.9395%2014.5693%2012.9141%2014.2529%2012.9141%2013.8447C12.9141%2013.4365%2012.9395%2013.1201%2012.9902%2012.8955C13.043%2012.6709%2013.127%2012.5146%2013.2422%2012.4268C13.3594%2012.3389%2013.5176%2012.2949%2013.7168%2012.2949C13.9336%2012.2949%2014.0996%2012.3389%2014.2148%2012.4268C14.3301%2012.5146%2014.4141%2012.6689%2014.4668%2012.8896ZM17.2969%2016.0596C17.0059%2016.3994%2016.8604%2016.9932%2016.8604%2017.8408C16.8604%2018.6885%2017.0059%2019.2803%2017.2969%2019.6162C17.3468%2019.6735%2017.4008%2019.7259%2017.4587%2019.7734C17.7407%2020.0045%2018.1174%2020.1201%2018.5889%2020.1201C19.0764%2020.1201%2019.4619%2019.9999%2019.7452%2019.7593C19.7967%2019.7156%2019.8449%2019.6679%2019.8896%2019.6162C20.1826%2019.2803%2020.3291%2018.6885%2020.3291%2017.8408C20.3291%2016.9932%2020.1826%2016.3994%2019.8896%2016.0596C19.8399%2016.0012%2019.7861%2015.9478%2019.7281%2015.8994C19.4464%2015.6644%2019.0666%2015.5469%2018.5889%2015.5469C18.1271%2015.5469%2017.7563%2015.6597%2017.4763%2015.8852C17.4116%2015.9373%2017.3518%2015.9954%2017.2969%2016.0596ZM19.3271%2016.8916C19.3799%2017.1162%2019.4062%2017.4326%2019.4062%2017.8408C19.4062%2018.2568%2019.3799%2018.5752%2019.3271%2018.7959C19.2744%2019.0146%2019.1904%2019.1699%2019.0752%2019.2617C18.96%2019.3535%2018.7979%2019.3994%2018.5889%2019.3994C18.3818%2019.3994%2018.2217%2019.3535%2018.1084%2019.2617C17.9971%2019.1699%2017.915%2019.0127%2017.8623%2018.79C17.8115%2018.5654%2017.7861%2018.249%2017.7861%2017.8408C17.7861%2017.4326%2017.8115%2017.1162%2017.8623%2016.8916C17.915%2016.667%2017.9971%2016.5107%2018.1084%2016.4229C18.2217%2016.335%2018.3818%2016.291%2018.5889%2016.291C18.7979%2016.291%2018.96%2016.335%2019.0752%2016.4229C19.1904%2016.5107%2019.2744%2016.667%2019.3271%2016.8916Z'%20fill='rgb(255,255,255)'%20fill-rule='evenodd'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",n2="data:image/svg+xml,%3csvg%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%20fill='none'%20customFrame='%23000000'%3e%3cg%20id='005%20dl'%3e%3cpath%20id='矩形%2035'%20d='M10%200L22%200C27.5228%200%2032%204.47715%2032%2010L32%2022C32%2027.5228%2027.5228%2032%2022%2032L10%2032C4.47715%2032%200%2027.5228%200%2022L0%2010C0%204.47715%204.47715%200%2010%200Z'%20fill='rgb(236,236,238)'%20fill-rule='evenodd'%20/%3e%3cellipse%20id='circle'%20rx='9'%20ry='9.00005627'%20cx='16'%20cy='16.0000572'%20fill='rgb(67,65,72)'%20/%3e%3cg%20id='¥'%3e%3cpath%20id='矢量%2086'%20d='M18.4319%2015.1719L16.6607%2015.1719L19.3761%2011L18.0737%2011L15.7701%2014.8839L15.673%2014.8839L13.356%2011L12%2011L14.7154%2015.1719L12.9576%2015.1719L12.9576%2016.0491L15.1138%2016.0491L15.1138%2017.1306L12.9576%2017.1306L12.9576%2017.9944L15.1138%2017.9944L15.1138%2020.519L16.2656%2020.519L16.2656%2017.9944L18.4319%2017.9944L18.4319%2017.1306L16.2656%2017.1306L16.2656%2016.0491L18.4319%2016.0491L18.4319%2015.1719Z'%20fill='rgb(255,255,255)'%20fill-rule='evenodd'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",r=l=>!l||l.trim().length===0,C2=()=>{const{address:l}=W(),[o,h]=s.useState(""),[d,p]=s.useState(""),[C,f]=s.useState(""),[c,L]=s.useState(""),[n,T]=s.useState(""),[g,N]=s.useState(""),[j,D]=s.useState(""),[y,I]=s.useState(""),[F,v]=s.useState(!1),{writeContractAsync:_}=q(),R=async()=>{try{const i=await X(m,{contracts:[{address:x,abi:u,functionName:"PLATFORM_FEE_USD",args:[]},{address:x,abi:u,functionName:"SELLER_INCOME_USD",args:[]}]});D(String(i[0].result)),I(String(i[1].result))}catch(t){console.error(t)}};s.useEffect(()=>{R()},[]);const Z=async()=>{if(j===""||y===""){a.show({content:"正在读取链上数据，请稍后再尝试",position:"center"});return}if(+g==0||g===""){a.show({content:"燃料费、提现费不能为0",position:"center"});return}try{v(!0);const t=await _({address:x,abi:u,functionName:"setChildMachineTradeConfig",args:[j,y,g]});await E(m,{hash:t}),a.show({content:"修改成功!",position:"center"}),v(!1),N("")}catch(t){a.show({content:"修改失败",position:"center"}),v(!1),console.error(t)}},[M,S]=s.useState(!1),U=z(),[O,B]=s.useState("0"),P=async()=>{if(r(o)||r(d)||r(C)||r(n)||r(n)||r(c)){a.show({content:"请填充完整表单",position:"center",duration:1e3});return}try{a.show({content:"制作中...",position:"center",duration:0}),S(!0);const t=[+o,+d,+C,n,c],i=await K(m,{address:x,abi:u,functionName:"batchMintMotherMachine",args:t});await E(m,{hash:i,chainId:Y}),a.clear()}catch(t){a.show({content:"制作失败",position:"center",duration:2e3}),console.error(t)}finally{S(!1)}},G=()=>{M||U("/make-mmm/history")},V=async()=>{try{const t=await J(m,{address:x,abi:u,functionName:"getIDXAmount",args:[15]}),i=Q(t);B(i)}catch(t){console.error(t)}};return s.useEffect(()=>{V()},[]),e.jsxs("div",{className:"pt-4 pb-6 px-[21px]",children:[e.jsx("span",{className:"ml-4",children:"制作母矿机"}),e.jsxs("div",{className:"container-wrap mt-3",children:[e.jsx(w,{src:s2,text:"母矿机制作数量",inputText:"输入数量",unit:"台",value:o,max:100,setValue:h}),e.jsx(w,{value:d,setValue:p,src:n2,text:"渠道销售单价",inputText:"输入单价",unit:"USDT/台",slot:e.jsxs("div",{className:"flex justify-end mt-1 gap-2",children:[e.jsx("span",{className:"font-bold",children:"1"}),e.jsx("span",{className:"",children:"USDT ="}),e.jsx($,{type:e2.BALANCE,value:O,decimalSubLen:2,className:"font-bold"}),"IDX"]}),max:1e3}),e.jsx(w,{value:C,setValue:f,src:a2,text:"销售员提成比例",inputText:"输入比例",unit:"%",max:100}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-black rounded-[50%] w-[.3125rem] h-[.3125rem] mr-2"}),e.jsx("div",{children:"分销商钱包地址"})]}),e.jsx(H,{onChange:t=>L(t),value:c,placeholder:"输入钱包地址...",rows:2,className:"bg-[#ececee] rounded-3xl p-5 "})]}),e.jsx(k,{className:"mt-4  w-full h-0.5 bg-[#ececee]"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"bg-black rounded-[50%] w-[.3125rem] h-[.3125rem] mr-2"}),e.jsx("div",{children:"分销商备注名"})]}),e.jsx(b,{onChange:t=>T(t),value:n,placeholder:"输入备注名...",className:"!bg-[#ececee] rounded-3xl px-5 py-1"})]}),e.jsx(A,{onClick:P,className:"!bg-black !rounded-3xl !text-white flex justify-center !py-1 w-full !text-[13px]",loading:M,children:"制作母矿机"})]}),e.jsx("div",{className:"container-wrap mt-3",children:e.jsx("img",{src:t2,alt:"",className:"ml-8",onClick:G})}),e.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[e.jsx("h2",{className:"mb-2 font-bold",children:"费用设置"}),e.jsx(b,{placeholder:"燃烧费、激活费",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:g,type:"number",onChange:t=>N(t)}),e.jsx(A,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:F,onClick:()=>Z(),children:"修改"})]})]})},w=({value:l,setValue:o,src:h,text:d,inputText:p,unit:C,slot:f,max:c})=>{const L=n=>{+n<=c&&o(n)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"mr-1.5",src:h,alt:""}),e.jsx("div",{children:d})]}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{onChange:L,value:l,placeholder:p,type:"number",max:c,className:"!bg-[#ececee] px-5 py-1.5 text-[#aba8b1] rounded-3xl !text-[15px] !max-w-[11rem]"}),e.jsx("div",{className:"pointer-none absolute right-5 top-[50%] translate-y-[-50%] text-[#292929] text-[13px]",children:C})]})]}),f,e.jsx(k,{className:"mt-4  w-full h-0.5 bg-[#ececee]"})]})};export{C2 as default};
