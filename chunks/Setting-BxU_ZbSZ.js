import{r as s,n as Be,j as t,T as u,B as i,I as r,o as Oe,q as n,v as f,N as we}from"./vendor-CR9QeBO-.js";import{L as G,S as v,P as q,N as Ge}from"./index-Cobmn13i.js";import{v as h}from"./validateAddress-BE2p6uyu.js";import{c}from"../assets/index-Bvj3I4S-.js";import{M as H}from"./MiningMachineSystemLogic-BvMT4rBv.js";import{M}from"./MiningMachineSystemStorage-v65BGZKl.js";import{M as J}from"./MiningMachineProductionLogic-NN_EtVms.js";import{M as qe}from"./MiningMachineNodeSystem-DwTBrQlD.js";const it=()=>{const[K,Q]=s.useState(""),[Y,Z]=s.useState(""),[$,ee]=s.useState(""),[te,se]=s.useState(""),[ye,L]=s.useState(!1),[je,A]=s.useState(!1),[Ne,I]=s.useState(!1),[Se,T]=s.useState(!1),[Ce,z]=s.useState(!1),[He,Je]=s.useState(!1),[ke,D]=s.useState(!1),[ve,P]=s.useState(!1),[m,ne]=s.useState(""),[p,ae]=s.useState(""),[E,oe]=s.useState(""),[x,le]=s.useState(""),[g,ie]=s.useState(""),[b,re]=s.useState(""),[w,ce]=s.useState(""),[y,de]=s.useState(""),[R,fe]=s.useState(""),[j,ue]=s.useState(""),[Me,U]=s.useState(!1),[Ke,Qe]=s.useState(""),[Ye,Le]=s.useState(""),[Ze,Ae]=s.useState(""),[X,xe]=s.useState(""),[V,he]=s.useState(""),[Ie,F]=s.useState(!1),[Te,_]=s.useState(!1),[N,me]=s.useState(""),[S,pe]=s.useState(""),[ze,W]=s.useState(!1),[B,ge]=s.useState(""),[De,O]=s.useState(!1),Pe=async()=>{var a,l;if(!((l=(a=h)==null?void 0:a.EVM)==null?void 0:l.call(a,X))){n.show({content:"请输入合法的的地址",position:"center",duration:2e3});return}try{F(!0);const o=await d({address:v,abi:M,functionName:"setSadmin",args:[X]});await f(c,{hash:o}),n.show({content:"修改成功!",position:"center"}),F(!1),xe("")}catch(o){n.show({content:"修改失败",position:"center"}),F(!1),console.error(o)}},Ee=async()=>{var a,l;if(!((l=(a=h)==null?void 0:a.EVM)==null?void 0:l.call(a,V))){n.show({content:"请输入合法的的地址",position:"center",duration:2e3});return}try{_(!0);const o=await d({address:v,abi:M,functionName:"setPlatformWallet",args:[V]});await f(c,{hash:o}),n.show({content:"修改成功!",position:"center"}),_(!1),he("")}catch(o){n.show({content:"修改失败",position:"center"}),_(!1),console.error(o)}},Re=async()=>{try{const a=await Oe(c,{contracts:[{address:G,abi:H,functionName:"PLATFORM_FEE_USD",args:[]},{address:G,abi:H,functionName:"SELLER_INCOME_USD",args:[]}]});Le(String(a[0].result)),Ae(String(a[1].result))}catch(e){console.error(e)}};s.useEffect(()=>{Re()},[]);const Ue=async()=>{if(p===""||m===""||+m==0||+p==0||E===""||x===""||+E==0||+x==0){n.show({content:"母矿机生命周期、生产间隔，子矿机生命周期、生产间隔不能为0",position:"center"});return}try{z(!0);const e=await d({address:q,abi:J,functionName:"setMachineParams",args:[+p*60*24,+m*60*24,+x*60*24,we(x)]});await f(c,{hash:e}),n.show({content:"修改成功!",position:"center"}),z(!1),ne(""),ae(""),oe(""),le("")}catch(e){n.show({content:"修改失败",position:"center"}),z(!1),console.error(e)}},{writeContractAsync:d}=Be(),C=async(e,a)=>{const l={idx:"setIdxToken",usdt:"setUsdtToken",pancake:"setPancakeRouter",pair:"setIdxUsdtPair"};try{e==="idx"?L(!0):e==="usdt"?A(!0):e==="pancake"?I(!0):e==="pair"&&T(!0);const o=await d({address:v,abi:M,functionName:l[e],args:[a]});await f(c,{hash:o}),n.show({content:"修改成功!",position:"center"}),e==="idx"?(L(!1),Q("")):e==="usdt"?(A(!1),Z("")):e==="pancake"?(I(!1),ee("")):e==="pair"&&(T(!1),se(""))}catch(o){n.show({content:"修改失败",position:"center"}),e==="idx"?L(!0):e==="usdt"?A(!0):e==="pancake"?I(!0):e==="pair"&&T(!0),console.error(o)}},k=(e,a)=>{var o,be;if(!((be=(o=h)==null?void 0:o.EVM)==null?void 0:be.call(o,e))){n.show({content:t.jsxs("div",{className:"text-[13px]",children:["请输入合法的",a,"代币合约地址"]}),position:"center",duration:2e3});return}switch(a){case"IDX":C("idx",e);break;case"USDT":C("usdt",e);break;case"PancakeRouter":C("pancake",e);break;case"IDX与USDT交易对":C("pair",e);break}},Xe=async()=>{if(+b==0||b===""){n.show({content:"提现锁定周期不能为0",position:"center"});return}if(+w==0||w===""){n.show({content:"释放总周期不能为0",position:"center"});return}if(+y==0||y===""){n.show({content:"释放间隔不能为0",position:"center"});return}try{D(!0);const e=await d({address:q,abi:J,functionName:"setLockReleaseParams",args:[+b*24*60*60,+w*24*60*60,+y*1440]});await f(c,{hash:e}),n.show({content:"修改成功!",position:"center"}),D(!1),re(""),ce(""),de("")}catch(e){n.show({content:"修改失败",position:"center"}),D(!1),console.error(e)}},Ve=async()=>{if(+g==0||g===""){n.show({content:"合成矿机的个数不能为0",position:"center",duration:2e3});return}try{P(!0);const e=await d({address:Ge,abi:qe,functionName:"setNodesAmount",args:[g]});await f(c,{hash:e}),n.show({content:"修改成功!",position:"center"}),P(!1),ie("")}catch(e){n.show({content:"修改失败",position:"center"}),P(!1),console.error(e)}},Fe=async()=>{var a,l;if(!((l=(a=h)==null?void 0:a.EVM)==null?void 0:l.call(a,R))){n.show({content:"请输入合法的代币合约地址",position:"center",duration:2e3});return}if(+j==0||j===""){n.show({content:"提取数量不能为0",position:"center",duration:2e3});return}try{U(!0);const o=await d({address:G,abi:H,functionName:"withdrawToken",args:[R,we(j)]});await f(c,{hash:o}),n.show({content:"提取成功!",position:"center"}),U(!1),fe(""),ue("")}catch(o){n.show({content:"提取失败",position:"center"}),U(!1),console.error(o)}},_e=async()=>{if(+N==0||N===""){n.show({content:"MIX数量不能为0",position:"center",duration:2e3});return}if(+S==0||S===""){n.show({content:"IDX数量不能为0",position:"center",duration:2e3});return}try{W(!0);const e=await d({address:q,abi:J,functionName:"setSwap",args:[S,N]});await f(c,{hash:e}),n.show({content:"修改成功!",position:"center"}),W(!1),pe(""),me("")}catch(e){n.show({content:"修改失败",position:"center"}),W(!1),console.error(e)}},We=async()=>{var a,l;if(!((l=(a=h)==null?void 0:a.EVM)==null?void 0:l.call(a,B))){n.show({content:"请输入合法的接收地址",position:"center",duration:2e3});return}try{O(!0);const o=await d({address:v,abi:M,functionName:"setCommissionWallet",args:[B]});await f(c,{hash:o}),n.show({content:"修改成功!",position:"center"}),O(!1),ge("")}catch(o){n.show({content:"修改失败",position:"center"}),O(!1),console.error(o)}};return t.jsxs("div",{className:"h-full overflow-scroll px-[1.3125rem] mt-2 pb-4",children:[t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"铸造矿机的权限"}),t.jsx(u,{placeholder:"输入目标地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:V,onChange:e=>he(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:Te,onClick:Ee,children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"更改管理员"}),t.jsx(u,{placeholder:"输入目标地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:X,onChange:e=>xe(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:Ie,onClick:Pe,children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"手续费接收地址"}),t.jsx(u,{placeholder:"输入目标地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:B,onChange:e=>ge(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:De,onClick:We,children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"提取代币"}),t.jsx(u,{placeholder:"输入代币地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:R,onChange:e=>fe(e)}),t.jsx(r,{placeholder:"输入提取数量",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:j,type:"number",onChange:e=>ue(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:Me,onClick:Fe,children:"提取"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"IDX合约地址设置"}),t.jsx(u,{placeholder:"输入IDX代币合约地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:K,onChange:e=>Q(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:ye,onClick:()=>k(K,"IDX"),children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"USDT合约地址设置"}),t.jsx(u,{placeholder:"输入USDT代币合约地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:Y,onChange:e=>Z(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:je,onClick:()=>k(Y,"USDT"),children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"PancakeRouter合约地址设置"}),t.jsx(u,{placeholder:"输入PancakeRouter代币合约地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:$,onChange:e=>ee(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:Ne,onClick:()=>k($,"PancakeRouter"),children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"IDX与USDT交易对地址设置"}),t.jsx(u,{placeholder:"输入IDX与USDT交易对地址",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 pt-2 !flex !items-center !justify-center",value:te,onChange:e=>se(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:Se,onClick:()=>k(te,"IDX与USDT交易对"),children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col justify-between",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"矿机设置"}),t.jsx("span",{className:"text-[12px]",children:"规则："}),t.jsx("div",{className:"text-[12px]",children:t.jsx("div",{children:"母矿机产矿数量 = 总生命周期（天）/ 生产间隔（天）"})}),t.jsx(r,{placeholder:"总生命周期（天）",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-1 !flex !items-center !justify-center mb-2",value:m,type:"number",onChange:e=>ne(e)}),t.jsx(r,{placeholder:"生产间隔（天）",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-1 !flex !items-center !justify-center",value:p,type:"number",onChange:e=>ae(e)}),t.jsx("span",{className:"text-[12px]",children:"规则："}),t.jsx("div",{className:"text-[12px]",children:"子矿机产MIX量 = 总生命周期（天）/ 生产MiX数（天）"}),t.jsx(r,{placeholder:"总生命周期（天）",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-1 !flex !items-center !justify-center mb-2",value:E,type:"number",onChange:e=>oe(e)}),t.jsx(r,{placeholder:"生产MiX个数（天）",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-1 !flex !items-center !justify-center",value:x,type:"number",onChange:e=>le(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:Ce,onClick:()=>Ue(),children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"提现设置"}),t.jsx(r,{placeholder:"提现锁定周期",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:b,type:"number",onChange:e=>re(e)}),t.jsx(r,{placeholder:"释放总周期",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:w,type:"number",onChange:e=>ce(e)}),t.jsx(r,{placeholder:"释放间隔",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:y,type:"number",onChange:e=>de(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:ke,onClick:Xe,children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"节点设置"}),t.jsx(r,{placeholder:"合成小节点的矿机个数",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:g,type:"number",onChange:e=>ie(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:ve,onClick:Ve,children:"修改"})]}),t.jsxs("div",{className:"bg-white p-3 rounded-2xl mt-2 flex flex-col gap-1",children:[t.jsx("h2",{className:"mb-2 font-bold",children:"MIX兑换IDX设置"}),t.jsx(r,{placeholder:"MIX数量",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:N,type:"number",onChange:e=>me(e)}),t.jsx(r,{placeholder:"IDX数量",style:{"--font-size":"13px"},className:"!bg-[#f3f3f3] rounded-3xl px-4 py-2 !flex !items-center !justify-center mb-2",value:S,type:"number",onChange:e=>pe(e)}),t.jsx(i,{className:"!bg-black !text-white !rounded-3xl !ml-auto !mt-2  !py-1 !w-full",style:{fontSize:"13px"},loading:ze,onClick:_e,children:"修改"})]})]})};export{it as default};
